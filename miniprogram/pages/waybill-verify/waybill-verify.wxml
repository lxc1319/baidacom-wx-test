<!-- è¿å•èº«ä»½éªŒè¯é¡µ -->
<view class="verify-page">
  <!-- çº¢è‰²æ¸å˜å¤´éƒ¨ -->
  <view class="verify-header">
    <view class="header-bg"></view>
  </view>

  <!-- ç™½è‰²å¡ç‰‡å†…å®¹åŒº -->
  <view class="verify-card">
    <!-- è¿å•ä¿¡æ¯å±•ç¤º -->
    <view class="waybill-info">
      <text class="company-name">{{logisticsCompaniesName || 'ç™¾è¾¾ç‰©æµ'}}</text>
      <text class="waybill-code">{{waybillCode}}</text>
      <text class="copy-icon" bindtap="onCopyCode">ğŸ“‹</text>
    </view>

    <!-- éªŒè¯æç¤º -->
    <view class="verify-tip">
      <text class="tip-line1">è¯·è¾“å…¥<text class="highlight">å¯„ä»¶äºº</text>æˆ–<text class="highlight">æ”¶ä»¶äºº</text></text>
      <text class="tip-line2">è”ç³»æ–¹å¼åå››ä½éªŒè¯èº«ä»½</text>
    </view>

    <!-- éªŒè¯ç è¾“å…¥ç»„ä»¶ - ä¸‹åˆ’çº¿æ ·å¼ -->
    <view class="code-input-wrapper">
      <view class="underline-inputs">
        <view class="underline-box {{code.length >= 1 ? 'filled' : ''}} {{currentIndex === 0 ? 'active' : ''}}">
          <text class="underline-text">{{code[0] || ''}}</text>
        </view>
        <view class="underline-box {{code.length >= 2 ? 'filled' : ''}} {{currentIndex === 1 ? 'active' : ''}}">
          <text class="underline-text">{{code[1] || ''}}</text>
        </view>
        <view class="underline-box {{code.length >= 3 ? 'filled' : ''}} {{currentIndex === 2 ? 'active' : ''}}">
          <text class="underline-text">{{code[2] || ''}}</text>
        </view>
        <view class="underline-box {{code.length >= 4 ? 'filled' : ''}} {{currentIndex === 3 ? 'active' : ''}}">
          <text class="underline-text">{{code[3] || ''}}</text>
        </view>
      </view>
      <!-- éšè—çš„çœŸå®è¾“å…¥æ¡† -->
      <input
        class="hidden-input"
        type="number"
        maxlength="4"
        value="{{code}}"
        focus="{{autoFocus}}"
        bindinput="onInput"
        bindfocus="onFocus"
        bindblur="onBlur"
      />
    </view>

    <!-- é”™è¯¯æç¤º -->
    <view class="error-tip" wx:if="{{errorMessage}}">
      <text class="error-text">{{errorMessage}}</text>
    </view>

    <!-- é‡è¯•æç¤º -->
    <view class="retry-tip" wx:if="{{errorCount > 0}}">
      <text class="retry-text">å·²å°è¯• {{errorCount}}/{{maxErrorCount}} æ¬¡</text>
    </view>
  </view>
</view>
